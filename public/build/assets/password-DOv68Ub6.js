import{b as e,m as g,d as i,A as v,C as a,e as c}from"./vendor-ui-EoCh-MHn.js";import{I as y,H as k,ak as f,al as P,t as F,am as z,B as p}from"./main-Nj9AaWuF.js";import{s as M}from"./save-DunlAXZV.js";import"./vendor-form-BYywqLDt.js";import"./vendor-editor-B9FEBeCH.js";var N=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],j=t=>e(y,g(t,{iconNode:N,name:"eye-off"})),h=j,B=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],O=t=>e(y,g(t,{iconNode:B,name:"eye"})),w=O,E=v('<div class="bg-card rounded-lg border shadow-sm"><div class=p-6><div class="flex items-center gap-3 mb-6"><div class="flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10"></div><div><h2 class="text-lg font-semibold">修改密码</h2><p class="text-sm text-muted-foreground">请输入当前密码和新密码</p></div></div><div class=space-y-4><div class=relative></div><div class=relative></div><div class=relative>'),I=v('<div class="flex justify-end">');function q(){const[t,_]=i(!1),[l,b]=i(!1),[o,x]=i(!1),r=k(()=>({defaultValues:{old_password:"",new_password:"",confirm_password:""},validators:{onMount:f,onChange:f},onSubmit:async({value:s})=>{await P.changePassword({old_password:s.old_password,new_password:s.new_password}),F.success("密码修改成功"),r.reset()}}));return e(r.Form,{class:"max-w-xl mx-auto space-y-6",get children(){return[(()=>{var s=E(),C=s.firstChild,u=C.firstChild,S=u.firstChild,$=u.nextSibling,n=$.firstChild,d=n.nextSibling,m=d.nextSibling;return a(S,e(z,{class:"h-5 w-5 text-primary"})),a(n,e(r.StringField,{name:"old_password",label:"当前密码",get type(){return t()?"text":"password"},placeholder:"请输入当前密码"}),null),a(n,e(p,{type:"button",variant:"ghost",size:"icon",class:"absolute right-0 top-6 h-10 w-10",onClick:()=>_(!t()),get children(){return c(()=>!!t())()?e(h,{class:"h-4 w-4"}):e(w,{class:"h-4 w-4"})}}),null),a(d,e(r.StringField,{name:"new_password",label:"新密码",get type(){return l()?"text":"password"},placeholder:"请输入新密码 (至少6个字符)"}),null),a(d,e(p,{type:"button",variant:"ghost",size:"icon",class:"absolute right-0 top-6 h-10 w-10",onClick:()=>b(!l()),get children(){return c(()=>!!l())()?e(h,{class:"h-4 w-4"}):e(w,{class:"h-4 w-4"})}}),null),a(m,e(r.StringField,{name:"confirm_password",label:"确认新密码",get type(){return o()?"text":"password"},placeholder:"请再次输入新密码"}),null),a(m,e(p,{type:"button",variant:"ghost",size:"icon",class:"absolute right-0 top-6 h-10 w-10",onClick:()=>x(!o()),get children(){return c(()=>!!o())()?e(h,{class:"h-4 w-4"}):e(w,{class:"h-4 w-4"})}}),null),s})(),(()=>{var s=I();return a(s,e(r.SubmitButton,{class:"gap-2",get children(){return[e(M,{class:"size-4"}),"确认修改"]}})),s})()]}})}export{q as default};

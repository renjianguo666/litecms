import{a0 as c,b as a,A as l,C as d,e as p,S as f}from"./vendor-ui-EoCh-MHn.js";import{o as g,p as h,a0 as o,q as v,t as i}from"./main-dmt7HXak.js";import{U as b}from"./form-CTCEvHqI.js";import"./vendor-form-P-S2gzVM.js";import"./vendor-editor-B9FEBeCH.js";import"./rotate-ccw-DKhTP1vy.js";import"./save-ceHAUwVX.js";var x=l('<div class="flex min-h-[400px] items-center justify-center">');function V(){const n=g(),r=h(),[t]=c(()=>r.id,o.get),m=async e=>{try{await o.update(r.id,e),i.success("用户更新成功"),n("/users")}catch{i.error("更新用户失败")}},u=()=>{const e=t();return{username:e.username,email:e.email,is_active:e.is_active,roles:e.roles?.map(s=>s.id)}};return a(f,{get when(){return p(()=>!t.loading)()&&t()},get fallback(){return(()=>{var e=x();return d(e,a(v,{class:"h-8 w-8 animate-spin text-muted-foreground"})),e})()},get children(){return a(b,{mode:"edit",get defaultValues(){return u()},onSubmit:m,submitText:"保存修改"})}})}export{V as default};

import{a0 as b,b as a,A as i,C as r,e as c}from"./vendor-ui-EoCh-MHn.js";import{a1 as g,a2 as h,a3 as p,H as f}from"./main-8-Lyl6Ls.js";import{r as _}from"./rotate-ccw-Blh3B2wa.js";import{s as v}from"./save-D3gScViQ.js";var S=i('<div class="rounded-lg border bg-card p-6"><h3 class="mb-4 text-lg font-medium">账户信息</h3><div class=space-y-4>'),$=i('<div class="rounded-lg border bg-card p-6"><h3 class="mb-4 text-lg font-medium">权限设置</h3><div class=space-y-4>'),x=i('<div class="flex justify-end gap-3">');function z(l){const[m]=b(async()=>(await g.list({page_size:100})).items??[]),o=l.mode==="create"?h:p,t=f(()=>({defaultValues:l.defaultValues,validators:{onMount:o,onChange:o},onSubmit:async({value:e})=>{l.mode==="create"?await l.onSubmit(e):await l.onSubmit(e)}})),d=()=>(m()??[]).map(e=>({label:e.name,value:e.id}));return a(t.Form,{class:"space-y-6",get children(){return[(()=>{var e=S(),n=e.firstChild,s=n.nextSibling;return r(s,a(t.StringField,{name:"username",label:"用户名",placeholder:"请输入用户名"}),null),r(s,a(t.StringField,{name:"email",label:"邮箱",type:"email",placeholder:"请输入邮箱地址"}),null),r(s,a(t.StringField,{name:"password",get label(){return l.mode==="create"?"密码":"新密码"},type:"password",get placeholder(){return l.mode==="create"?"请输入密码":"留空则不修改"}}),null),e})(),(()=>{var e=$(),n=e.firstChild,s=n.nextSibling;return r(s,(()=>{var u=c(()=>l.mode==="create");return()=>u()?a(t.CheckboxField,{name:"is_superuser",label:"超级管理员",description:"拥有系统所有权限"}):a(t.SwitchField,{name:"is_active",label:"启用账户",description:"关闭后用户将无法登录"})})(),null),r(s,a(t.ComboboxField,{name:"roles",label:"分配角色",get options(){return d()},placeholder:"选择角色...",searchPlaceholder:"搜索角色..."}),null),e})(),(()=>{var e=x();return r(e,a(t.ResetButton,{class:"gap-2",get children(){return[a(_,{class:"size-4"}),"重置"]}}),null),r(e,a(t.SubmitButton,{class:"gap-2",get children(){return[a(v,{class:"size-4"}),c(()=>l.submitText??"保存")]}}),null),e})()]}})}export{z as U};

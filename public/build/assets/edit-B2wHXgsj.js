import{a0 as u,b as a,A as l,C as c,e as p,S as d}from"./vendor-ui-EoCh-MHn.js";import{o as f,p as g,a1 as r,q as h,t as b}from"./main-B6UhN7Jf.js";import{R as v}from"./form-vyV70r8C.js";import"./vendor-form-BYywqLDt.js";import"./vendor-editor-B9FEBeCH.js";import"./rotate-ccw-2iP1iOhh.js";import"./save-DLjXE32a.js";var x=l('<div class="flex min-h-[400px] items-center justify-center">');function V(){const o=f(),s=g(),[t]=u(()=>s.id,r.get),n=async e=>{await r.update(s.id,e),b.success("角色更新成功"),o("/roles")},i=()=>{const e=t();return{name:e.name,description:e.description??"",permissions:e.permissions?.map(m=>m.id)}};return a(d,{get when(){return p(()=>!t.loading)()&&t()},get fallback(){return(()=>{var e=x();return c(e,a(h,{class:"h-8 w-8 animate-spin text-muted-foreground"})),e})()},get children(){return a(v,{mode:"edit",get defaultValues(){return i()},onSubmit:n,submitText:"保存修改"})}})}export{V as default};
